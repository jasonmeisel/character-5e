<head>
  <title>D&amp;D 5e Character Builder</title>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
</head>

<body>
  <div class="container">
    <div>
      <h1>D&amp;D 5e Character Builder</h1>
      <p class="lead">Make your characters using modern technology</p>
    </div>

    {{> character_list}}
  </div>
</body>

<template name="character_list">
  {{#each all_characters}}
    {{> character_sheet this}}
  {{/each}}

  <button id="new_character">New Character</button>
</template>

<template name="character_sheet">
  <div class="character_sheet panel panel-default">
    <label>Character name</label>
    <p>{{> editableText collection="CharacterDB" field="name"}}</p>

    <label>Player name</label>
    <p>{{> editableText collection="CharacterDB" field="playerName"}}</p>

    <label>Classes</label>
    <p class="dropdown">
      {{classes_text}}
      <button
        class="btn btn-default btn-sm glyphicon glyphicon-plus"
        id="add_class_button" data-toggle="dropdown"
        aria-haspopup="true" aria-expanded="false"></button>
      <ul id="add_classes_menu" class="dropdown-menu" role="menu" aria-labelledby="add_class_button">
        {{#each all_classes}}
          <li role="presentation"><a class="add_classes_select" role="menuitem" tabindex="-1" href="#">{{this}}</a></li>
        {{/each}}
      </ul>
    </p>

    <label>Background</label>
    <p>{{> editableText collection="CharacterDB" field="background"}}</p>

    <label>Race</label>
    <p>{{> editableText collection="CharacterDB" field="race"}}</p>

    <label>Alignment</label>
    <p>{{> editableText collection="CharacterDB" field="alignment"}}</p>

    <label>Experience points</label>
    <p>{{> editableText collection="CharacterDB" field="xp"}}</p>

    <label>Strength ({{to_modifier abilities.strength}})</label>
    <p>{{> editableText collection="CharacterDB" field="abilities.strength"}}</p>

    <label>Dexterity ({{to_modifier abilities.dexterity}})</label>
    <p>{{> editableText collection="CharacterDB" field="abilities.dexterity"}}</p>

    <label>Constitution ({{to_modifier abilities.constitution}})</label>
    <p>{{> editableText collection="CharacterDB" field="abilities.constitution"}}</p>

    <label>Intelligence ({{to_modifier abilities.intelligence}})</label>
    <p>{{> editableText collection="CharacterDB" field="abilities.intelligence"}}</p>

    <label>Wisdom ({{to_modifier abilities.wisdom}})</label>
    <p>{{> editableText collection="CharacterDB" field="abilities.wisdom"}}</p>

    <label>Charisma ({{to_modifier abilities.charisma}})</label>
    <p>{{> editableText collection="CharacterDB" field="abilities.charisma"}}</p>
  </div>
</template>
